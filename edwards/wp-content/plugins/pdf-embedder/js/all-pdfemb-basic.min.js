var pdfembGrabToPan=function(){function k(a){this.element=a.element;this.document=a.element.ownerDocument;"function"===typeof a.ignoreTarget&&(this.ignoreTarget=a.ignoreTarget);this.onActiveChanged=a.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onmousedown=this._onmousedown.bind(this);this._onmousemove=this._onmousemove.bind(this);this._onmousewheel=this._onmousewheel.bind(this);this._endPan=this._endPan.bind(this);
(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}k.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){if(!this.active&&(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.addEventListener("DOMMouseScroll",this._onmousewheel),this.element.addEventListener("mousewheel",this._onmousewheel),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!0)},deactivate:function(){if(this.active&&
(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!1)},toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(a){return a[l]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function(a){if(0===a.button&&!this.ignoreTarget(a.target)){this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=
this.element.scrollTop;this.clientXStart=a.clientX;this.clientYStart=a.clientY;this.document.addEventListener("mousemove",this._onmousemove,!0);this.document.addEventListener("mouseup",this._endPan,!0);this.element.addEventListener("scroll",this._endPan,!0);a.preventDefault();a.stopPropagation();this.document.documentElement.classList.add(this.CSS_CLASS_GRABBING);var b=document.activeElement;b&&!b.contains(a.target)&&b.blur()}},_onmousemove:function(c){this.element.removeEventListener("scroll",this._endPan,
!0);var b;b="buttons"in c&&n?!(c.buttons|1):g||a?0===c.which:void 0;b?this._endPan():(b=c.clientX-this.clientXStart,this.element.scrollTop=this.scrollTopStart-(c.clientY-this.clientYStart),this.element.scrollLeft=this.scrollLeftStart-b,this.overlay.parentNode||document.body.appendChild(this.overlay))},_onmousewheel:function(a){this.element.removeEventListener("scroll",this._endPan,!0);var b="DOMMouseScroll"===a.type?-a.detail:a.wheelDelta/40;this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=
this.element.scrollTop;b*=40;this.element.scrollTop=this.scrollTopStart-b;this.element.scrollTop==this.scrollTopStart&&0!=b||a.preventDefault();this.overlay.parentNode||document.body.appendChild(this.overlay)},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0);this.document.removeEventListener("mousemove",this._onmousemove,!0);this.document.removeEventListener("mouseup",this._endPan,!0);this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)}};var l;["webkitM",
"mozM","msM","oM","m"].some(function(a){a+="atches";a in document.documentElement&&(l=a);a+="Selector";a in document.documentElement&&(l=a);return l});var n=!document.documentMode||9<document.documentMode,h=window.chrome,g=h&&(h.webstore||h.app),a=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);return k}(),PDFEMB_NS={};
jQuery(document).ready(function(k){var l=function(){var a=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)}();PDFEMB_NS.PIXEL_RATIO=l;createHiDPICanvas=function(a,c,b){b||(b=l);var e=document.createElement("canvas");e.width=a*b;e.height=c*b;e.style.width=a+"px";e.style.height=c+"px";e.getContext("2d").setTransform(b,0,
0,b,0,0);return e};var n=0,h=0;(function(){var a=document.createElement("div");a.style.width="100px";a.style.height="100px";a.style.overflow="scroll";a.style.position="absolute";a.style.top="-9999px";document.body.appendChild(a);n=a.offsetWidth-a.clientWidth;h=a.offsetHeight-a.clientHeight;document.body.removeChild(a)})();PDFEMB_NS.vscrollbarwidth=n;PDFEMB_NS.hscrollbarheight=h;var g=function(a,c,b){this.pdfDoc=a;this.divContainer=c;this.showIsSecure=b;this.initialResize=!1;this.firstPageHeight=this.firstPageWidth=
0;this.invalidationRound=1;this.currentPageNum=0;this.zoom=100};g.prototype.setup=function(){var a=this,c=this.divContainer,b=this.pdfDoc,e=this.showIsSecure;this.numPages=b.numPages;var d=c.data("scrollbar");this.vscrollbar="both"==d||"vertical"==d;this.hscrollbar="both"==d||"horizontal"==d;d="overflow-y: "+(this.vscrollbar?"scroll":"hidden")+"; ";d+="overflow-x: "+(this.hscrollbar?"scroll":"hidden")+"; ";c.empty().append(k("<div></div>",{"class":"pdfemb-pagescontainer",style:d}));c.data("pdfDoc",
b);d=c.data("toolbar");"top"!=d&&"both"!=d||this.addToolbar(!0,"on"==c.data("toolbar-fixed"),e);"bottom"!=d&&"both"!=d||this.addToolbar(!1,"on"==c.data("toolbar-fixed"),e);a.annotationsLayerFactory="undefined"!=typeof PDFEMB_NS.pdfembPremiumAnnotationsLayerFactory?new PDFEMB_NS.pdfembPremiumAnnotationsLayerFactory:{createAnnotationsLayerBuilder:function(a,b){return null}};a.annotationLayerFactories=[];c.on("pdfembGotopage",function(b,c){c>this.numPages||0>=c||(a.gotoPage(c),a.jumpToTop())});c.on("pdfembGotoHash",
function(b,c){if(c.dest){dest=c.dest;var d;"string"===typeof dest?(destString=dest,d=a.pdfDoc.getDestination(dest)):d=Promise.resolve(dest);d.then(function(b){b instanceof Array&&!(1>b.length)&&a.pdfDoc.getPageIndex(b[0]).then(function(b){b+=1;b>a.numPages||0>=b||a.currentPageNum==b||(a.gotoPage(b),a.jumpToTop())})})}});c.on("pdfembGotoAction",function(b,c){var d=a.currentPageNum,e=d;switch(c){case "GoBack":--e;break;case "GoForward":++e;break;case "NextPage":++e;break;case "PrevPage":--e;break;case "LastPage":e=
a.pageCount;break;case "FirstPage":e=1}e==d||e>a.pageCount||0>=e||a.gotoPage(e)});c.on("pdfembMagnify",function(b){a.magnifyEvent(b)});c.on("pdfembChangeZoom",function(b,c){a.changeZoom(c)});this.pageCount=b.numPages;(!c.data("pagenum")||1>c.data("pagenum")||c.data("pagenum")>this.pageCount)&&c.data("pagenum",1);c.data("showIsSecure",this.showIsSecure);c.data("pageNumPending",null);b="on"==c.data("fullScreen")?parseInt(c.data("startfpzoom")):parseInt(c.data("startzoom"));if(isNaN(b)||20>b||500<b)b=
100;this.zoom=b;100!=b&&c.find("span.pdfemb-zoom").text(b+"%");c.find("span.pdfemb-page-count").text(this.pageCount);this.gotoPage(c.data("pagenum"))};g.prototype.checkForResize=function(){var a=this,c=a.divContainer,b=k(window).height(),e=k(window).width(),d=c.data("checked-window-height"),f=c.data("checked-window-width");if(!d||!f)c.data("checked-window-height",b),c.data("checked-window-width",e);else if(d!=b||f!=e)a.resizeViewer(),a.resizeInnerDivs(),a.invalidateAllPages(),a.renderPage(this.currentPageNum),
a.prerenderNearbyPages(this.currentPageNum),c.data("checked-window-height",b),c.data("checked-window-width",e);"true"!=c.data("fullScreenClosed")&&setTimeout(function(){a.checkForResize()},100)};g.prototype.setSizesBasedOnPage=function(a){a=a.getViewport(1);this.pageWidth=a.width;this.pageHeight=a.height;(0>=this.pageWidth||0>=this.pageHeight)&&this.divContainer.empty().append(document.createTextNode(pdfemb_trans.objectL10n.widthheightinvalid))};g.prototype.createPageInnerDivs=function(){for(var a=
this.divContainer.find(".pdfemb-pagescontainer"),c=1;c<=this.pageCount;++c){var b=a.find(".pdfemb-inner-div.pdfemb-page"+c);0==b.length&&(b=k("<div></div>",{"class":"pdfemb-inner-div pdfemb-page"+c}),b.data("pageNum",c),a.append(b))}this.resizeInnerDivs()};g.prototype.addGrabToPan=function(){var a=this,c=a.divContainer,b=c.find("div.pdfemb-pagescontainer"),e=new pdfembGrabToPan({element:b[0]});c.data("grabtopan",e);b.on("scroll",function(b){var c=a.getTopVisiblePageNum();c!=a.currentPageNum&&(a.currentPageNum=
c,a.updatePageNumDisplay(c),a.renderPage(c,!1),a.prerenderNearbyPages(c),a.deallocateFarAwayPages(c));b.stopPropagation()});k(window).resize(function(){setTimeout(function(){a.checkForResize()},100)})};g.prototype.resizeInnerDivs=function(a){var c=this,b=c.wantCanvasWidth,e=c.wantCanvasHeight,d=c.wantHeight,f=this.divContainer.find(".pdfemb-pagescontainer").find(".pdfemb-inner-div");a&&(f=f.filter(".pdfemb-page"+a));var g=0;f.each(function(d,v){var m=k(v),l=m.data("widthfactor"),h=m.data("heightfactor");
l||(l=1);h||(h=1);m.data("invalidation-round",this.invalidationRound-1);m.css("width",b*l);var q=e*h+(a==c.numPages||!a&&d==f.length-1?0:2);m.css("height",q);g+=q;m=m.find(".pdfemb-the-canvas");m.css("width",b*l);m.css("height",e*h)});var v=0;!a&&g<d&&(v=(d-g)/2);f.first().css("top",v)};g.prototype.invalidateAllPages=function(){++this.invalidationRound};g.prototype.prerenderNearbyPages=function(a){var c=3,b=2;100>this.zoom&&(c*=Math.min(Math.ceil(100/this.zoom),10),b*=Math.min(Math.ceil(100/this.zoom),
10));for(b=Math.max(1,a-b);b<=Math.min(a+c,this.numPages);++b)b!=a&&this.renderPage(b,!1)};g.prototype.deallocateFarAwayPages=function(a){var c=50,b=50;if(100>this.zoom)var e=Math.min(Math.ceil(100/this.zoom),50),c=c+e,b=b+e;var e=function(a){a=d.find(".pdfemb-page"+a);var b=a.find(".pdfemb-the-canvas");b.length&&(b.remove(),a.data("invalidation-round",0))},d=this.divContainer.find("div.pdfemb-pagescontainer"),f;for(f=3;f<a-b;++f)e(f);for(f=a+c;f<this.numPages;++f)e(f)};g.prototype.resizeViewer=function(){var a=
this.pageWidth,c=this.pageHeight,b=this.divContainer,e=b.find("div.pdfemb-pagescontainer"),d=b.parent().width(),f=a;if("max"==b.data("width"))f=d;else if("auto"==b.data("width"))f=a;else if(f=parseInt(b.data("width"),10),isNaN(f)||0>=f)f=d;0>=f&&(f=a);f>d&&0<d&&(f=d);var a=f/a,c=c*a,g=this.pdfembWantMobile(f,t);this.wantMobile=g;var k=b.find("div.pdfemb-toolbar-fixed"),r=g?0:k.length,t=parseInt(b.data("height"),10);if(isNaN(t)||0>=t||t>c)t="auto"==b.data("height")?b.parent().height()-r*k.height():
c;this.userHeight=t;var f=Math.floor(f),c=Math.floor(c),d=100,m=f-(this.vscrollbar?n:0),p=c-(this.hscrollbar?h:0),z=1;g||(d=this.zoom,m=m*d/100,p=p*d/100,16777E3<m*p*l*l&&(z=16777E3/(m*p*l*l)));f!=b.width()&&b.width(f);b.height()!=t&&b.height(t+r*k.height());e.width(f);e.height(t);b=k.filter(".pdfemb-toolbar-top");0<r&&e.css("top",b.height());0!=this.fromZoom&&0!=this.toZoom&&(b=e[0].scrollTop,e[0].scrollLeft=this.toZoom/this.fromZoom*(e[0].scrollLeft+this.pccentreLeft)-this.pccentreLeft,e[0].scrollTop=
this.toZoom/this.fromZoom*(b+this.pccentreTop)-this.pccentreTop);self.fromZoom=0;self.toZoom=0;this.wantCanvasWidth=m;this.wantCanvasHeight=p;this.reducefactor=z;this.wantWidth=f;this.wantHeight=c;this.scale=a;this.zoom=d};g.prototype.getTopVisiblePageNum=function(){var a=this.divContainer.find(".pdfemb-pagescontainer").find(".pdfemb-inner-div:visible");return 0<a.length?a.first().data("pageNum"):1};g.prototype.gotoPage=function(a){0>=a||a>this.pageCount||(this.renderPage(a,!0),this.currentPageNum=
a,this.updatePageNumDisplay(a),this.prerenderNearbyPages(a),this.deallocateFarAwayPages(a))};g.prototype.updatePageNumDisplay=function(a){var c=this.divContainer;c.find("div.pdfemb-toolbar .pdfemb-page-num").each(function(b,c){var d=k(c);d.is("span")?d.text(a):d.val(a)});a<this.pageCount?c.find(".pdfemb-next").removeAttr("disabled").removeClass("pdfemb-btndisabled"):c.find(".pdfemb-next").attr("disabled","disabled").addClass("pdfemb-btndisabled");1<a?c.find(".pdfemb-prev").removeAttr("disabled").removeClass("pdfemb-btndisabled"):
c.find(".pdfemb-prev").attr("disabled","disabled").addClass("pdfemb-btndisabled")};g.prototype.scrollPageIntoView=function(a){var c=this.divContainer.find(".pdfemb-pagescontainer"),b=c.find(".pdfemb-page"+a);c.find(".pdfemb-inner-div").not(".pdfemb-page"+a).hide();b.show()};g.prototype.renderPage=function(a,c){var b=this,e=b.invalidationRound,d=this.divContainer,f=d.data("pdfDoc"),g=d.find(".pdfemb-pagescontainer"),h=g.find(".pdfemb-page"+a);if(h.length&&h.data("invalidation-round")>=e)c&&b.scrollPageIntoView(a);
else{var r=h.data("pending-drawing-round");r>=e||(0<r&&r<e?h.data("pending-drawing-round",e):(h.data("pending-drawing-round",e),f.getPage(a).then(function(f){b.initialResize||(b.initialResize=!0,b.setSizesBasedOnPage(f),b.resizeViewer(),b.createPageInnerDivs(),b.addGrabToPan());0==h.length&&(h=g.find(".pdfemb-page"+a));var m=h.data("widthfactor"),p=h.data("heightfactor");if(!m||!p){var n=f.getViewport(1),m=n.width/b.pageWidth,p=n.height/b.pageHeight;h.data("widthfactor",m);h.data("heightfactor",p);
1==m&&1==p||b.resizeInnerDivs(a)}var q=h.find(".pdfemb-the-canvas");0==q.length&&(q=k("<canvas></canvas>",{"class":"pdfemb-the-canvas"}),h.append(q));c&&b.scrollPageIntoView(a);var w=b.wantCanvasWidth,x=b.wantCanvasHeight,n=b.scale,A=b.zoom;q.css("width",w*m);q.css("height",x*p);b.wantMobile?d.data("grabtopan").deactivate():d.data("grabtopan").activate();b.pdfembMakeMobile();var B=f.getViewport(n*A/100),u=document.createElement("canvas");u.width=w*l*b.reducefactor*m;u.height=x*l*b.reducefactor*p;
var y=u.getContext("2d"),C=function(){q[0].width=w*l*b.reducefactor*m;q[0].height=x*l*b.reducefactor*p;b.preRenderCanvas(y,a,A);var c=y.getImageData(0,0,u.width,u.height);q[0].getContext("2d").putImageData(c,0,0);c=null;"undefined"==typeof b.annotationLayerFactories[a]?(c=b.annotationsLayerFactory.createAnnotationsLayerBuilder(h[0],f),b.annotationLayerFactories[a]=c):c=b.annotationLayerFactories[a];null!=c&&c.setupAnnotations(B,b.divContainer.data("newwindow"));h.data("invalidation-round",e);r=h.data("pending-drawing-round");
h.data("pending-drawing-round","");r>e&&b.renderPage(a,!1)};f.render({canvasContext:y,viewport:B,transform:[l*b.reducefactor,0,0,l*b.reducefactor,0,0]}).promise.then(function(){"requestAnimationFrame"in window?window.requestAnimationFrame(C):setTimeout(C,1)})})))}};g.prototype.changeZoom=function(a){var c=this.divContainer,b=this.zoom;this.zoom=a=b+a;c.find("span.pdfemb-zoom").text(a+"%");this.fromZoom=b;this.toZoom=a;c=c.find(".pdfemb-pagescontainer");this.pccentreLeft=c.width()/2;this.pccentreTop=
c.height()/2;this.resizeViewer();this.resizeInnerDivs();this.invalidateAllPages();this.renderPage(this.currentPageNum);this.prerenderNearbyPages(this.currentPageNum)};g.prototype.queueRenderPage=function(a,c){this.renderPage(a,c)};g.prototype.addToolbar=function(a,c,b){var e=this.divContainer,d=this,f=k("<div></div>",{"class":"pdfemb-toolbar pdfemb-toolbar"+(c?"-fixed":"-hover")+" "+(a?" pdfemb-toolbar-top":"pdfemb-toolbar-bottom")}),g=k('<button class="pdfemb-prev" title="'+pdfemb_trans.objectL10n.prev+
'" type="button"></button>');f.append(g);var h=k('<button class="pdfemb-next" title="'+pdfemb_trans.objectL10n.next+'" type="button"></button>');f.append(h);f.append(k('<div class="pdfemb-page-area">'+pdfemb_trans.objectL10n.page+' <span class="pdfemb-page-num">0</span> / <span class="pdfemb-page-count"></span></div>'));var l=k('<button class="pdfemb-zoomout" title="'+pdfemb_trans.objectL10n.zoomout+'" type="button"></button>');f.append(l);var n=k('<button class="pdfemb-zoomin" title="'+pdfemb_trans.objectL10n.zoomin+
'" type="button"></button>');f.append(n);f.append(k("<div>"+pdfemb_trans.objectL10n.zoom+' <span class="pdfemb-zoom">100%</span></div>'));b&&f.append(k("<div>"+pdfemb_trans.objectL10n.secure+"</div>"));a?e.prepend(f):e.append(f);g.on("click",function(a){1>=d.currentPageNum||(d.gotoPage(d.currentPageNum-1),d.jumpToTop())});h.on("click",function(a){d.currentPageNum>=d.pageCount||0==d.currentPageNum||(d.gotoPage(d.currentPageNum+1),d.jumpToTop())});n.on("click",function(a){500<=d.zoom||d.changeZoom(10)});
l.on("click",function(a){20>=d.zoom||d.changeZoom(-10)});d.addMoreToolbar(f);c||(e.on("mouseenter",function(a){a=e.find("div.pdfemb-toolbar-hover");!0!==a.data("no-hover")&&a.show()}),e.on("mouseleave",function(a){e.find("div.pdfemb-toolbar-hover").hide()}),e.on("pdfembTouchTapped",function(a){a.stopPropagation();a.preventDefault();if(!d.locktaps){d.locktaps=!0;a=e.find("div.pdfemb-toolbar-hover");var b=a.is(":visible");1==a.data("no-hover")&&(b=!0);b?a.hide():a.show();setTimeout(function(){d.locktaps=
!1},250)}}));pdfemb_trans.poweredby&&f.append(k("<div></div>",{"class":"pdfemb-poweredby"}).append(k('<a href="https://wp-pdf.com/?utm_source=Poweredby&utm_medium=freemium&utm_campaign=Freemium" target="_blank">wp-pdf.com</a>')))};g.prototype.magnifyEvent=function(a){var c=a.originalEvent.magnification;if(-1==c)this.resizeViewer(),this.resizeInnerDivs(),this.invalidateAllPages(),this.renderPage(this.getTopVisiblePageNum());else{var b=this.divContainer.find(".pdfemb-pagescontainer").offset();this.magnifyZoom(c,
a.originalEvent.centreLeft-b.left,a.originalEvent.centreTop-b.top)}};g.prototype.magnifyZoom=function(a,c,b){var e=this.zoom;a=Math.floor(e*a);20>a&&(a=20);500<a&&(a=500);this.zoom=a;this.divContainer.find("span.pdfemb-zoom").text(a+"%");this.fromZoom=e;this.toZoom=a;this.pccentreLeft=c;this.pccentreTop=b;this.resizeViewer();this.resizeInnerDivs();this.invalidateAllPages()};g.prototype.pdfembWantMobile=function(a,c){return!1};g.prototype.pdfembMakeMobile=function(){};g.prototype.addMoreToolbar=function(a){};
g.prototype.jumpToTop=function(){};g.prototype.preRenderCanvas=function(a,c,b){};PDFEMB_NS.pdfembPagesViewer=g});jQuery(document).ready(function(k){var l=PDFEMB_NS.pdfembPagesViewer;k=function(){l.apply(this,arguments)};k.prototype=new l;PDFEMB_NS.pdfembPagesViewerUsable=k});PDFEMB_NS.pdfembGetPDF=function(k,l){l(k,!1)};
jQuery(document).ready(function(k){k.fn.pdfEmbedder=function(){this.each(function(l,n){var h,g=k(n);if(g.is("a")){var a=g.data();h=k("<div></div>",{"class":g.attr("class"),style:g.attr("style")});h.data(k.extend({"pdf-url":g.attr("href")},a));g.replaceWith(h)}else h=g;h.append(k("<div></div>",{"class":"pdfemb-loadingmsg"}).append(document.createTextNode(pdfemb_trans.objectL10n.loading)));"on"==h.data("disablerightclick")&&h.bind("contextmenu",function(a){a.preventDefault()});var c=function(a,c){(new PDFEMB_NS.pdfembPagesViewerUsable(a,
h,c)).setup()},g=function(a,e){null===a?h.empty().append(k("<div></div>",{"class":"pdfemb-errormsg"}).append(msgnode=k("<span></span>").append(document.createTextNode("Failed to load and decrypt PDF")))):PDFJS.getDocument(a).then(function(a){c(a,e)},function(a){var b=document.createTextNode(a.message);"UnexpectedResponseException"==a.name&&0==a.status&&(b=k("<span></span>").append(document.createTextNode(pdfemb_trans.objectL10n.domainerror+" ")).append(k('<a href="https://wp-pdf.com/troubleshooting/#unexpected" target="_blank">'+
pdfemb_trans.objectL10n.clickhereinfo+"</a>")));h.empty().append(k("<div></div>",{"class":"pdfemb-errormsg"}).append(b))})};h.data("pdfDoc")?c(h.data("pdfDoc"),h.data("showIsSecure")):(a=h.data("pdf-url"),PDFEMB_NS.pdfembGetPDF(a,g))});return this};PDFJS.workerSrc=pdfemb_trans.worker_src;PDFJS.cMapUrl=pdfemb_trans.cmap_url;PDFJS.cMapPacked=!0;k(".pdfemb-viewer").pdfEmbedder()});
